trigger:
  - "*"

parameters:
  - name: infraTechnology
    type: string
    default: bicep
    values:
      - terraform
      - bicep

variables:
  - template: variables.yml

pool:
  vmImage: "ubuntu-latest"

steps:
  - template: terraform.yml
    parameters:
      terraformVersion: $(terraformVersion)
      terraformPath: $(terraformPath)
      serviceConnection: $(serviceConnection)
      containerName: $(terraformContainerName)
      storageAccountName: $(terraformStorageAccountName)
      resourceGroupName: $(terraformResourceGroupName)
      env:
        AZDO_ORG_SERVICE_URL: https://dev.azure.com/jasojohnson